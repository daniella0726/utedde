<style>
@import url('https://fonts.googleapis.com/css?family=Heebo:300,400,500,700&display=swap');
.pregunta {
  padding: 12px 30px;
  width: 100%;
  display: block;
  text-align: left;
  color: #3C454C;
  font-family: 'Heebo';
  border: 1px solid #43a2d2;
  font-size: 18px;
  cursor: pointer;
  position: relative;
  z-index: 2;
  transition: color 200ms ease-in;
  overflow: hidden;
}
</style>
<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://kit.fontawesome.com/1f7411956b.js"></script>

   <div class="container">
  <h4 style="font-family: 'Heebo', sans-serif; color: #254064; text-align: left;" >P31. ¿En qué medio te desplazas y cuánto tiempo te demoras para venir al colegio?</h4>
  
  <div class="col-sm-6">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p31a" role="button" aria-expanded="false" aria-controls="collapse_p31a">
     ¿En qué medio te desplazas principalmente?
      </a>
    </p>
    <div class="collapse" id="collapse_p31a">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p31a).having("p31a != ?", "--").having("p31a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p31a).having("p31a != ?", "--").having("p31a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% if (value == "1") %>
            <%valor = "A pie"%>
            <% elsif (value == "2") %>
              <%valor = "Bicicleta"%>
            <% elsif (value == "3") %>
              <%valor = "Carro, taxi"%>
            <% elsif (value == "4") %>
              <%valor = "Moto"%>
            <% elsif (value == "5") %>
              <%valor = "Transmilenio/ bus/ buseta"%>
            <% elsif (value == "6") %>
              <%valor = "Mototaxi, bicitaxi"%>
            <% elsif (value == "7") %>
              <%valor = "Ruta escolar"%>
            <% elsif (value == "8") %>
              <%valor = "Otro"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#662483"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-6">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p31b" role="button" aria-expanded="false" aria-controls="collapse_p31b">
     ¿Cuánto tiempo te demoras?
      </a>
    </p>
    <div class="collapse" id="collapse_p31b">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p31b).having("p31b != ?", "--").having("p31b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p31b).having("p31b != ?", "--").having("p31b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% if (value == "1") %>
            <%valor = "Menos de 5 minutos"%>
            <% elsif (value == "2") %>
              <%valor = "De 6 a 15 minutos"%>
            <% elsif (value == "3") %>
              <%valor = "De 16 a 30 minutos"%>
            <% elsif (value == "4") %>
              <%valor = "De 31 a 60 minutos"%>
            <% elsif (value == "5") %>
              <%valor = "Más de 60 minutos"%>
            <% elsif (value == "99") %>
              <%valor = "No Respondió"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= pie_chart array, suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>
</div>

<div class="container">
  <h4 style="font-family: 'Heebo', sans-serif; color: #254064; text-align: left;" >P32. ¿En el último año has participado en alguno de los siguientes programas o recibido alguno de los siguientes beneficios?</h4>
  
  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32a" role="button" aria-expanded="false" aria-controls="collapse_p32a">
    a. Alimentación escolar (desayuno, almuerzo, refrigerio, etc.)
      </a>
    </p>
    <div class="collapse" id="collapse_p32a">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32a).having("p32a != ?", "--").having("p32a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32a).having("p32a != ?", "--").having("p32a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32b" role="button" aria-expanded="false" aria-controls="collapse_p32b">
   b. Programa de movilidad escolar (subsidio de transporte, ruta, al colegio en bici, etc.)
      </a>
    </p>
    <div class="collapse" id="collapse_p32b">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32b).having("p32b != ?", "--").having("p32b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32b).having("p32b != ?", "--").having("p32b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32c" role="button" aria-expanded="false" aria-controls="collapse_p32c">
      c. Kits escolares
      </a>
    </p>
    <div class="collapse" id="collapse_p32c">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32c).having("p32c != ?", "--").having("p32c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32c).having("p32c != ?", "--").having("p32c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32d" role="button" aria-expanded="false" aria-controls="collapse_p32d">
      d. Gratuidad total en matrícula y pensión
      </a>
    </p>
    <div class="collapse" id="collapse_p32d">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32d).having("p32d != ?", "--").having("p32d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32d).having("p32d != ?", "--").having("p32d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32e" role="button" aria-expanded="false" aria-controls="collapse_p32e">
      e. Ayuda cuando tenías dificultades con alguna materia
      </a>
    </p>
    <div class="collapse" id="collapse_p32e">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32e).having("p32e != ?", "--").having("p32e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32e).having("p32e != ?", "--").having("p32e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32f" role="button" aria-expanded="false" aria-controls="collapse_p32f">
      f. Apoyo en orientación psicológica o apoyo psicosocial
      </a>
    </p>
    <div class="collapse" id="collapse_p32f">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32f).having("p32f != ?", "--").having("p32f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32f).having("p32f != ?", "--").having("p32f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32g" role="button" aria-expanded="false" aria-controls="collapse_p32g">
      g. Participación en procesos de inclusión educativa
      </a>
    </p>
    <div class="collapse" id="collapse_p32g">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32g).having("p32g != ?", "--").having("p32g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32g).having("p32g != ?", "--").having("p32g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32h" role="button" aria-expanded="false" aria-controls="collapse_p32h">
      h. Programas para mejorar la convivencia escolar y la integración de los estudiantes
      </a>
    </p>
    <div class="collapse" id="collapse_p32h">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32h).having("p32h != ?", "--").having("p32h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32h).having("p32h != ?", "--").having("p32h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32i" role="button" aria-expanded="false" aria-controls="collapse_p32i">
      i. Programas de integración con la comunidad o las familias vecinas al colegio
      </a>
    </p>
    <div class="collapse" id="collapse_p32i">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32i).having("p32i != ?", "--").having("p32i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32i).having("p32i != ?", "--").having("p32i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-3">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p32j" role="button" aria-expanded="false" aria-controls="collapse_p32j">
      j. Articulación con la educación superior y educación media fortalecida
      </a>
    </p>
    <div class="collapse" id="collapse_p32j">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p32j).having("p32j != ?", "--").having("p32j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p32j).having("p32j != ?", "--").having("p32j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% array.push([value, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>
</div>

<div class="container row">
  <h4 style="font-family: 'Heebo', sans-serif; color: #254064; text-align: left;" >P33. ¿Con qué frecuencia en este último año...:?</h4>
  
  <div class="col-sm-4">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p33a" role="button" aria-expanded="false" aria-controls="collapse_p33a">
    Los profesores te han ayudado para continuar con tus estudios?
      </a>
    </p>
    <div class="collapse" id="collapse_p33a">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p33a).having("p33a != ?", "--").having("p33a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p33a).having("p33a != ?", "--").having("p33a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-4">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p33b" role="button" aria-expanded="false" aria-controls="collapse_p33b">
    Tus compañeros te han ayudado para continuar tus estudios?
      </a>
    </p>
    <div class="collapse" id="collapse_p33b">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p33b).having("p33b != ?", "--").having("p33b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p33b).having("p33b != ?", "--").having("p33b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-4">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p33c" role="button" aria-expanded="false" aria-controls="collapse_p33c">
    has participado en actividades culturales o deportivas organizadas por el colegio?
      </a>
    </p>
    <div class="collapse" id="collapse_p33c">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p33c).having("p33c != ?", "--").having("p33c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p33c).having("p33c != ?", "--").having("p33c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>
</div>

  <div class="container row">

    <div class="col-sm-6">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p33d" role="button" aria-expanded="false" aria-controls="collapse_p33d">
    has participado en las decisiones que se tomaban en el colegio?
      </a>
    </p>
    <div class="collapse" id="collapse_p33d">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p33d).having("p33d != ?", "--").having("p33d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p33d).having("p33d != ?", "--").having("p33d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-6">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p33e" role="button" aria-expanded="false" aria-controls="collapse_p33e">
    has hablado con los directivos (rector, coordinador, director, etc.) o profesores sobre los problemas del colegio?
      </a>
    </p>
    <div class="collapse" id="collapse_p33e">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p33e).having("p33e != ?", "--").having("p33e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p33e).having("p33e != ?", "--").having("p33e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  </div>  

  <div class="container row">
  <h4 style="font-family: 'Heebo', sans-serif; color: #254064; text-align: left;" >P34. ¿Con qué frecuencia en este último año se te presentaron las siguientes situaciones en tu colegio:?</h4>
  
  <div class="col-sm-4">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p34a" role="button" aria-expanded="false" aria-controls="collapse_p34a">
    te buscaron tus compañeros(as) para trabajar en grupo?
      </a>
    </p>
    <div class="collapse" id="collapse_p34a">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p34a).having("p34a != ?", "--").having("p34a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p34a).having("p34a != ?", "--").having("p34a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-4">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p34b" role="button" aria-expanded="false" aria-controls="collapse_p34b">
    te buscaron tus compañeros(as) para jugar?
      </a>
    </p>
    <div class="collapse" id="collapse_p34b">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p34b).having("p34b != ?", "--").having("p34b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p34b).having("p34b != ?", "--").having("p34b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-4">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p34c" role="button" aria-expanded="false" aria-controls="collapse_p34c">
    expresaste lo que sentías sin preocuparte por lo que pensaran los demás?
      </a>
    </p>
    <div class="collapse" id="collapse_p34c">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p34c).having("p34c != ?", "--").having("p34c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p34c).having("p34c != ?", "--").having("p34c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

</div>

  <div class="container row">

    <div class="col-sm-6">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p34d" role="button" aria-expanded="false" aria-controls="collapse_p34d">
    fuiste víctima de amenazas o insultos por parte de otros compañeros?
      </a>
    </p>
    <div class="collapse" id="collapse_p34d">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p34d).having("p34d != ?", "--").having("p34d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p34d).having("p34d != ?", "--").having("p34d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  <div class="col-sm-6">
    <p>
      <a class="pregunta" data-toggle="collapse" href="#collapse_p34e" role="button" aria-expanded="false" aria-controls="collapse_p34e">
    te sentiste discriminado(a) en el colegio?
      </a>
    </p>
    <div class="collapse" id="collapse_p34e">
      <div class="card card-body">
        <% total  = 0 %>
        <% Estudiante.group(:p34e).having("p34e != ?", "--").having("p34e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <% total = total + item %>
        <%end%>
        <% array = [] %>
        <% Estudiante.group(:p34e).having("p34e != ?", "--").having("p34e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <%valor = ""%>
          <% if (value == "1") %>
            <%valor = "Nunca"%>
            <% elsif (value == "2") %>
              <%valor = "Casi Nunca"%>
            <% elsif (value == "3") %>
              <%valor = "A veces"%>
            <% elsif (value == "4") %>
              <%valor = "Casi siempre"%>
            <% elsif (value == "5") %>
              <%valor = "Siempre"%>
          <% end %>
          <% array.push([valor, (100*item/total.to_f).round(2), item]) %>  
        <%end%>
        <%= column_chart array, colors: ["#4A99C6"] , suffix: "%" %>
        <br>
        <div style="text-align: center;">
        <table class="table table-bordered" style="width: 80%; text-align: center;">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col" style="text-align: center;">Valor</th>
                  <th scope="col" style="text-align: center;">Cantidad</th>
                  <th scope="col" style="text-align: center;">%</th>
                </tr>
              </thead>
              <tbody>
        <% array.each do |p| %>
               <tr style="text-align: center;">
                <th scope="row" style="text-align: center;"><%=p[0]%></th>
                <td style="text-align: center;"><%=p[2]%></td>
                <td style="text-align: center;"><%=p[1]%></td>
              </tr>  
        <%end%>
              </tbody>
        </table>
        </div>
      </div>
    </div>
    <br>
  </div>

  </div>
  
<div class="hidden">
<table>
  <thead>
    <tr>
      <th>P1</th>
      <th>P2</th>
      <th>P3</th>
      <th>P4</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @estudiantes.each do |estudiante| %>
      <tr>
        <td><%= estudiante.p1 %></td>
        <td><%= estudiante.p2 %></td>
        <td><%= estudiante.p3 %></td>
        <td><%= link_to 'Show', estudiante %></td>
        <td><%= link_to 'Edit', edit_estudiante_path(estudiante) %></td>
        <td><%= link_to 'Destroy', estudiante, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<% link_to 'New Estudiante', new_estudiante_path %>
</div>


